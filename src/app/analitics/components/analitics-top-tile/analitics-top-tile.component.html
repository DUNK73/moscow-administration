<div class="container table-wrapper tile--selected">
  <table class="table tile--selected" style="display: none;">
    <thead>
      <tr class="table__row table__row-head">
        <th class="table__head">Отрасль</th>
        <th class="table__head">Показатель экспорта</th>
      </tr>
      <tr class="table__row table__row-head">
        <th class="table__head">
          <input [formControl]="this.searchForm.get('title')" />
        </th>
        <th class="table__head">
          <!-- <input [formControl]="this.searchForm.get('turnoverSum')" /> -->
        </th>
        <!-- <th class="table__head">
           <input [formControl]="this.searchForm.get('exportSum')" />
        </th> -->
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let item of this.data$ | async">
        <tr
          class="table__row table__row-data"
          [ngClass]="{
            selected: selected === item
          }"
        >
          <td class="table__date">
            <a (click)="toggleSelected(item)" href="javascript:void(0)"
              >{{ item.title }}
            </a>
          </td>
          <td class="table__date">{{ item.exportSum }}</td>
        </tr>
        <ng-container *ngIf="selected === item">
          <tr
            class="table__row table__row-sub-data"
            *ngFor="let subItem of item.subIndustry"
          >
            <td class="table__date table__date-detail">
              {{ subItem.title }}
            </td>
            <td class="table__date table__date-detail">
              <ul>
                <li *ngFor="let exportDataList of subItem.exportDataList">
                  {{ exportDataList.date | date }} {{ exportDataList.value }}
                </li>
              </ul>
            </td>
          </tr>
        </ng-container>
      </ng-container>
    </tbody>
  </table>

  <section class="table-fixed">
    <!--for demo wrap-->
    <div class="table-fixed-header">
      <table cellpadding="0" cellspacing="0" border="0">
        <thead>
          <tr class="">
            <th class="table__head">Отрасль</th>
            <th class="table__head">Показатель экспорта</th>
          </tr>
          <tr class="">
            <th class="table__head">
              <input [formControl]="this.searchForm.get('title')" />
            </th>
            <th class="table__head">
              <!-- <input [formControl]="this.searchForm.get('turnoverSum')" /> -->
            </th>
            <!-- <th class="table__head">
               <input [formControl]="this.searchForm.get('exportSum')" />
            </th> -->
          </tr>
        </thead>
      </table>
    </div>
    <div class="table-fixed-content">
      <table cellpadding="0" cellspacing="0" border="0">
        <tbody>
          <ng-container *ngFor="let item of this.data$ | async">
            <tr
              class="table__row table__row-data"
              [ngClass]="{
                selected: selected === item
              }"
            >
              <td class="table__date">
                <a class="toggle-link" (click)="toggleSelected(item)" href="javascript:void(0)"
                  >{{ item.title }}
                </a>
              </td>
              <td class="table__date">{{ item.exportSum }}</td>
            </tr>
            <ng-container *ngIf="selected === item">
              <tr
                class="table__row table__row-sub-data"
                *ngFor="let subItem of item.subIndustry"
              >
                <td class="table__date table__date-detail">
                  {{ subItem.title }}
                </td>
                <td class="table__date table__date-detail">
                  <ul class="ul-progress">
                    <li *ngFor="let exportDataList of subItem.exportDataList"
                      class="ul-progress__item"
                    >
                      {{ exportDataList.date | date : "y" }}: {{ exportDataList.value }}
                    </li>
                  </ul>
                </td>
              </tr>
            </ng-container>
          </ng-container>

        </tbody>
      </table>
    </div>
  </section>
</div>
